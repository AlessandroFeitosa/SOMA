const objSelectConfigIntervalo=document.querySelector("#select-digitos-soma"),objSelectConfigContas=document.querySelector("#select-quant-soma"),objButtonConfig=document.querySelector("#config-button"),objWindowAlpha=document.querySelector(".window-alpha"),objTextConta=document.querySelector(".texto-conta"),objButtonVerifica=document.querySelector("#button-verifica"),objInputResultado=document.querySelector(".input-texto"),objTextoVerifica=document.querySelector("#check-mesage"),objTextContagem=document.querySelector("#contagem-soma"),objTextPlacar=document.querySelector("#placar-soma"),objCronometro=document.querySelector("#cronometro"),objButtonRestart=document.querySelector("#button-reiniciar");var primeiroNumero,segundoNumero,repeticoes,contador,pontuacao,acertos,erros;let intervalo,segundos=0,minutos=0,horas=0;function iniciaListeners(){objButtonConfig.addEventListener("click",(()=>{objWindowAlpha.style.display="none",startGame()})),objButtonVerifica.addEventListener("click",(()=>{verificaConta()})),objButtonRestart.addEventListener("click",(()=>{pararCronometro(),zerarCronometro(),contador-=1,atualizaPlacar(),contador=0,acertos=0,erros=0,objInputResultado.disabled=!0,objTextoVerifica.classList.remove("acertou"),objTextoVerifica.classList.remove("errou"),objTextoVerifica.classList.add("invisivel"),objWindowAlpha.style.display="flex"})),objInputResultado.addEventListener("keypress",(o=>{"Enter"===o.key&&verificaConta()}))}function startGame(){repeticoes=Number(objSelectConfigContas.options[objSelectConfigContas.selectedIndex].text),contador=0,acertos=0,erros=0,objInputResultado.disabled=!1,criaConta(),iniciarCronometro()}function endGame(){if(contador>=repeticoes){let o=verificaPontuacao();return pararCronometro(),alert(`Fim de Jogo! ${o} \n${objCronometro.textContent}`),zerarCronometro(),contador-=1,atualizaPlacar(),contador=0,acertos=0,erros=0,objInputResultado.disabled=!0,objTextoVerifica.classList.remove("acertou"),objTextoVerifica.classList.remove("errou"),objTextoVerifica.classList.add("invisivel"),"Fim"}return"Continua"}function criaConta(){if("Fim"===endGame())return confirm("Jogar novamente?")?void startGame():void 0;atualizaPlacar();let o=retornaIntervalo();primeiroNumero=numeroAleatorio(o[1],o[0]),segundoNumero=numeroAleatorio(o[1],o[0]),objTextConta.textContent=`${primeiroNumero} + ${segundoNumero}`,objInputResultado.focus(),contador+=1}function numeroAleatorio(o,e){let t=o,r=e;return Math.floor(Math.random()*(r-t+1))+t}function verificaConta(){if(""===objInputResultado.value)return void alert("Digite um valor!");let o=Number(objInputResultado.value),e=Number(primeiroNumero)+Number(segundoNumero);e===o?(objTextoVerifica.textContent="Acertou!",acertos+=1,"acertou"!==objTextoVerifica.className&&(objTextoVerifica.classList.remove("invisivel"),objTextoVerifica.classList.remove("errou"),objTextoVerifica.classList.toggle("acertou"))):(objTextoVerifica.textContent=`Errou! ${primeiroNumero} + ${segundoNumero} = ${e}`,erros+=1,"errou"!==objTextoVerifica.className&&(objTextoVerifica.classList.remove("invisivel"),objTextoVerifica.classList.remove("acertou"),objTextoVerifica.classList.toggle("errou"))),objInputResultado.value="",criaConta()}function retornaIntervalo(){let o=objSelectConfigIntervalo.value,e=[];return"1"===o?(e=[9,0],e):"2"===o?(e=[99,0],e):(e=[999,0],e)}function atualizaPlacar(){objTextContagem.textContent=`Conta ${contador+1} de ${repeticoes}`,objTextPlacar.textContent=`Acertos = ${acertos} Erros = ${erros}`}function verificaPontuacao(){return acertos===repeticoes?"Parabéns você acertou todas as contas!":`Você acertou ${acertos} das ${repeticoes} contas`}function formatarTempo(){return"Tempo: "+(horas<10?"0"+horas:horas)+":"+(minutos<10?"0"+minutos:minutos)+":"+(segundos<10?"0"+segundos:segundos)}function iniciarCronometro(){intervalo=setInterval((function(){segundos++,60===segundos&&(segundos=0,minutos++,60===minutos&&(minutos=0,horas++)),objCronometro.textContent=formatarTempo()}),1e3)}function pararCronometro(){clearInterval(intervalo)}function zerarCronometro(){clearInterval(intervalo),segundos=0,minutos=0,horas=0,objCronometro.textContent=formatarTempo()}iniciaListeners();